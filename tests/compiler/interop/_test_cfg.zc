// Test @cfg() conditional compilation attribute
// Run with: ./zc run tests/compiler/interop/test_cfg.zc -DUSE_BACKEND_A
// Or:       ./zc run tests/compiler/interop/test_cfg.zc -DUSE_BACKEND_B

@cfg(USE_BACKEND_A)
fn get_backend_name() -> char* {
    return "Backend A";
}

@cfg(USE_BACKEND_B)
fn get_backend_name() -> char* {
    return "Backend B";
}

@cfg(not(USE_BACKEND_A))
@cfg(not(USE_BACKEND_B))
fn get_backend_name() -> char* {
    return "Default Backend";
}

fn main() {
    let name = get_backend_name();
    println f"Backend: {name}";
    println "cfg test passed";
}
